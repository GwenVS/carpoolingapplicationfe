<mat-sidenav-container class="container" fullscreen>
  <mat-sidenav [mode]="sideNavMode" class="sidenav" #sidenav [opened]="sideNavOpened" style="overflow: hidden;">
    <mat-toolbar color="primary" class="mat-elevation-z4">
      <img src="../../../assets/car-256-white.png" width="36px">
      <h1 class="logo">RIDE<span style="font-size: 12px;">WITH</span>ME</h1>
    </mat-toolbar>
    <app-sidemenu [imageSrc]="imageSrc"></app-sidemenu>
  </mat-sidenav>
  <mat-sidenav-content style="z-index: unset;overflow: hidden;">
    <mat-drawer-container fullscreen>
      <mat-drawer mode="side" #drawer class="drawer" [opened]="matDrawerOpened" style="overflow: hidden;">
        <mat-toolbar color="primary" class="mat-elevation-z4">
          <img src="../../../assets/car-256-white.png" width="36px">
        </mat-toolbar>
        <app-sidemenu [iconOnly]="true" [imageSrc]="imageSrc"></app-sidemenu>
      </mat-drawer>
      <mat-drawer-content style="overflow: hidden;">
        <app-toolbar [sidenav]="sidenav" [drawer]="drawer" [sidebar]="sidenav2" [matDrawerShow]="matDrawerShow"
                     style="z-index: 500" [user$]="user$" [imageSrc]="imageSrc" (loggingOut)="logout()" [messages]="messages"></app-toolbar>
        <perfect-scrollbar>
          <router-outlet (profilePictureChanged)="onProfilePictureChanged($event)"
                         (onUserChanged)="onUserChanged($event)"></router-outlet>
        </perfect-scrollbar>
      </mat-drawer-content>
    </mat-drawer-container>
  </mat-sidenav-content>

  <mat-sidenav #sidenav2 position="end" mode="over">
    <app-sidebar [messages]="messages"></app-sidebar>
  </mat-sidenav>

</mat-sidenav-container>
